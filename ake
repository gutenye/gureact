#!/usr/bin/env bash

export PATH="node_modules/.bin:$PATH"

test() {
  (cd test && webpack-dev-server --inline)
}

build() {
  rm build/* 2>/dev/null
  babel src -d build
}

watch() {
  rm build/* 2>/dev/null
  babel src -w -d build
}

publish() {
  version=$1
  git commit -am "publish $version"
  git tag $version
  git push
  git push --tags
}

case "$1" in
  test ) test ;;
  b | build ) build ;;
  w | watch ) watch ;;
  publish ) shift 1; publish "$@" ;;
esac
