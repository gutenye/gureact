#!/usr/bin/env bash

export PATH="node_modules/.bin:$PATH"

build() {
  rimraf lib
  babel src --out-dir lib --ignore __tests__
  mv lib/polyfill/* .
}


watch() {
  babel -w src --out-dir lib --ignore __tests__ --ignore polyfill &
  babel -w src/polyfill --out-dir . --ignore __tests__ 
}

case "$1" in
  t | test ) jest --watch ;;
  b | build ) build ;;
  w | watch ) watch ;;
  docs ) styleguidist server ;;
  build:docs ) styleguidist build ;;
  deploy ) shift; git push origin master:$1;
esac
